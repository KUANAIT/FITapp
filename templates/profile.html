<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Profile</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
  <style>
    body {
      min-height: 100vh;
      background: linear-gradient(135deg, #f8ffae 0%, #43cea2 100%);
      display: flex;
      flex-direction: column;
    }
    .card {
      border-radius: 1.5rem;
      box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
      backdrop-filter: blur(2px);
      border: 1px solid rgba(255,255,255,0.18);
    }
    .profile-header {
      background: linear-gradient(90deg, #43cea2 0%, #185a9d 100%);
      border-radius: 1.5rem 1.5rem 0 0;
      box-shadow: 0 4px 16px 0 rgba(25,135,84,0.10);
    }
    .profile-icon {
      font-size: 2.5rem;
      color: #fff;
      margin-bottom: 0.5rem;
    }
    .profile-label {
      font-weight: 500;
      color: #185a9d;
    }
    .profile-value {
      font-size: 1.1rem;
    }
    .btn-success {
      font-weight: 600;
      letter-spacing: 1px;
      border-radius: 2rem;
      transition: background 0.2s;
    }
    .btn-success:hover {
      background: #157347;
    }
    .btn-outline-danger {
      border-radius: 2rem;
    }
  </style>
</head>
<body>
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container">
      <a class="navbar-brand" href="/"><i class="bi bi-heart-pulse"></i> Fitness Center</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item">
            <a class="nav-link" href="/">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link active" href="/profile">Profile</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/membership">Membership</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
  <div class="container d-flex flex-column justify-content-center align-items-center min-vh-100">
    <div class="col-md-8">
      <div class="card">
        <div class="card-header profile-header text-white text-center py-4">
          <div class="profile-icon mb-2"><i class="bi bi-person-circle"></i></div>
          <h3 class="mb-0">User Profile</h3>
        </div>
        <div class="card-body p-5">
          <h5 class="text-primary mb-3"><i class="bi bi-person-circle"></i> Personal Information</h5>
          <div class="row mb-3">
            <div class="col-sm-4 profile-label"><i class="bi bi-person icon"></i>Name:</div>
            <div class="col-sm-8 profile-value">{{.Name}}</div>
          </div>
          <div class="row mb-4">
            <div class="col-sm-4 profile-label"><i class="bi bi-envelope icon"></i>Email:</div>
            <div class="col-sm-8 profile-value">{{.Email}}</div>
          </div>
          
          <hr class="my-4">
          <h5 class="text-success mb-3"><i class="bi bi-award"></i> Membership Details</h5>
          {{if .HasMembership}}
          <div class="row mb-3">
            <div class="col-sm-4 profile-label"><i class="bi bi-card-text icon"></i>Member ID:</div>
            <div class="col-sm-8 profile-value"><span class="badge bg-primary">{{.MemberID}}</span></div>
          </div>
          <div class="row mb-3">
            <div class="col-sm-4 profile-label"><i class="bi bi-star icon"></i>Plan:</div>
            <div class="col-sm-8 profile-value">{{.MembershipPlan}} <span class="text-muted">{{printf "%.0f" .MembershipPrice}} â‚¸/month</span></div>
          </div>
          <div class="row mb-3">
            <div class="col-sm-4 profile-label"><i class="bi bi-check-circle icon"></i>Status:</div>
            <div class="col-sm-8 profile-value">
              {{if .IsActiveMember}}
                <span class="badge bg-success">Active</span>
              {{else}}
                <span class="badge bg-danger">{{.MembershipStatus}}</span>
              {{end}}
            </div>
          </div>
          <div class="row mb-3">
            <div class="col-sm-4 profile-label"><i class="bi bi-calendar-event icon"></i>Expires:</div>
            <div class="col-sm-8 profile-value">
              {{.MembershipExpiry}}
              {{if .IsActiveMember}}
                <small class="text-success">({{.DaysUntilExpiry}} days remaining)</small>
              {{end}}
            </div>
          </div>
          <div class="row mb-3">
            <div class="col-sm-4 profile-label"><i class="bi bi-door-open icon"></i>Total Visits:</div>
            <div class="col-sm-8 profile-value">{{.TotalVisits}}</div>
          </div>
          <div class="row mb-4">
            <div class="col-sm-4 profile-label"><i class="bi bi-calendar-plus icon"></i>Joined:</div>
            <div class="col-sm-8 profile-value">{{.JoinDate}}</div>
          </div>
          {{else}}
          <div class="alert alert-warning">
            <i class="bi bi-exclamation-triangle"></i> No active membership plan. 
            <a href="/membership" class="alert-link">Choose a plan</a> to get started!
          </div>
          {{end}}
          
          <hr class="my-4">
          <h6 class="text-muted mb-3">Account Information</h6>
          <div class="row mb-2">
            <div class="col-sm-4 profile-label small"><i class="bi bi-hash icon"></i>User ID:</div>
            <div class="col-sm-8 profile-value text-muted small">{{.ID}}</div>
          </div>
          <div class="row mb-2">
            <div class="col-sm-4 profile-label small"><i class="bi bi-calendar-check icon"></i>Account created:</div>
            <div class="col-sm-8 profile-value small">{{.CreatedAt}}</div>
          </div>
          <div class="row mb-3">
            <div class="col-sm-4 profile-label small"><i class="bi bi-clock-history icon"></i>Last updated:</div>
            <div class="col-sm-8 profile-value small">{{.UpdatedAt}}</div>
          </div>
        </div>
        <div class="card-footer text-center bg-white border-0 pb-4">
          <a href="/edit-profile" class="btn btn-success me-2 px-4"><i class="bi bi-pencil-square"></i> Edit Profile</a>
          <a href="/membership" class="btn btn-primary me-2 px-4"><i class="bi bi-award"></i> Manage Membership</a>
          <form action="/logout" method="POST" class="d-inline">
            <button type="submit" class="btn btn-outline-danger px-4"><i class="bi bi-box-arrow-right"></i> Logout</button>
          </form>
        </div>
      </div>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>